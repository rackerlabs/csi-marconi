#!/usr/bin/env bash

# Create queues with the names in ~/.tsung/existingqueue.csv, if your account doesn't have them already.
python create_queues.py

# create a temporary directory for tsung logs
logs_dir=`mktemp -d -t logs_XXXXXX`
# Start tsung in the controller with 'tsung start'
tsung start -l $logs_dir

# After the test is complete, cd to the logs directory generated by the tests in the controller machine.
cd $logs_dir
# Generate html reports with '/usr/lib/tsung/bin/tsung_stats.pl'
/usr/lib/tsung/bin/tsung_stats.pl
# You can run a simple web server to view reports, with 'python -m SimpleHTTPServer'
# Enjoy your performance reports!!
